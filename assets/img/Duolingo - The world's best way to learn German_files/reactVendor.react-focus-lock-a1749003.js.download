(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{DUc8:function(e,t,n){"use strict";var r=n("zLVn"),a=n("wx14"),o=n("q1tI"),u=n.n(o),c=(n("17x9"),n("xCns")),i=n("BsTD"),d={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},s=function(e){var t=e.children;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:d}),t,t&&u.a.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:d}))};s.propTypes={},s.defaultProps={children:null};var l=n("+8i8"),f=Object(l.a)({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),v=Object(l.a)(),b=Object(l.a)(),m=Object(l.b)({async:!0}),p=[],g=u.a.forwardRef((function(e,t){var n,r=Object(o.useState)(),s=r[0],l=r[1],b=Object(o.useRef)(),g=Object(o.useRef)(!1),j=Object(o.useRef)(null),E=e.children,O=e.disabled,w=e.noFocusGuards,h=e.persistentFocus,y=e.autoFocus,F=(e.allowTextSelection,e.group),x=e.className,k=e.whiteList,T=e.shards,C=void 0===T?p:T,L=e.as,I=void 0===L?"div":L,A=e.lockProps,D=void 0===A?{}:A,M=e.sideCar,P=e.returnFocus,B=e.onActivation,G=e.onDeactivation,R=Object(o.useState)({})[0],S=Object(o.useCallback)((function(){j.current=j.current||document&&document.activeElement,b.current&&B&&B(b.current),g.current=!0}),[B]),N=Object(o.useCallback)((function(){g.current=!1,G&&G(b.current)}),[G]),q=Object(o.useCallback)((function(e){var t=j.current;if(Boolean(P)&&t&&t.focus){var n="object"==typeof P?P:void 0;j.current=null,e?Promise.resolve().then((function(){return t.focus(n)})):t.focus(n)}}),[P]),J=Object(o.useCallback)((function(e){g.current&&f.useMedium(e)}),[]),Q=v.useMedium,V=Object(o.useCallback)((function(e){b.current!==e&&(b.current=e,l(e))}),[]);var z=Object(a.a)(((n={})[c.c]=O&&"disabled",n[c.d]=F,n),D),H=!0!==w,U=H&&"tail"!==w,Z=Object(i.a)([t,V]);return u.a.createElement(u.a.Fragment,null,H&&[u.a.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:O?-1:0,style:d}),u.a.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:O?-1:1,style:d})],!O&&u.a.createElement(M,{id:R,sideCar:m,observed:s,disabled:O,persistentFocus:h,autoFocus:y,whiteList:k,shards:C,onActivation:S,onDeactivation:N,returnFocus:q}),u.a.createElement(I,Object(a.a)({ref:Z},z,{className:x,onBlur:Q,onFocus:J}),E),U&&u.a.createElement("div",{"data-focus-guard":!0,tabIndex:O?-1:0,style:d}))}));g.propTypes={},g.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var j=g,E=n("tbcB"),O=n("oQiZ"),w=n("MGQT"),h=n("ylu/"),y=n("5VqH");function F(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var x=function(){return document&&document.activeElement===document.body||Object(O.a)()},k=null,T=null,C=null,L=!1,I=function(){return!0};function A(e,t,n,r){var a=null,o=e;do{var u=r[o];if(u.guard)u.node.dataset.focusAutoGuard&&(a=u);else{if(!u.lockItem)break;if(o!==e)return;a=null}}while((o+=n)!==t);a&&(a.node.tabIndex=0)}var D=function(e){return e&&"current"in e?e.current:e},M=function(){var e,t=!1;if(k){var n=k,r=n.observed,a=n.persistentFocus,o=n.autoFocus,u=n.shards,c=r||C&&C.portaledElement,i=document&&document.activeElement;if(c){var d=[c].concat(u.map(D).filter(Boolean));if(i&&!function(e){return(k.whiteList||I)(e)}(i)||(a||L||!x()||!T&&o)&&(!c||Object(w.a)(d)||(e=i,C&&C.portaledElement===e)||(document&&!T&&i&&!o?(i.blur(),document.body.focus()):(t=Object(h.a)(d,T),C={})),L=!1,T=document&&document.activeElement),document){var s=document&&document.activeElement,l=Object(y.b)(d),f=l.find((function(e){return e.node===s}));if(f){l.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")}));var v=l.indexOf(f);A(v,l.length,1,l),A(v,-1,-1,l)}}}}return t},P=function(e){M()&&e&&(e.stopPropagation(),e.preventDefault())},B=function(){return F(M)},G=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(C={observerNode:n,portaledElement:t})},R=function(){L=!0};f.assignSyncMedium(G),v.assignMedium(B),b.assignMedium((function(e){return e({moveFocusInside:h.a,focusInside:w.a})}));var S=Object(E.a)((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!k&&(document.addEventListener("focusin",P,!0),document.addEventListener("focusout",B),window.addEventListener("blur",R));var n=k,r=n&&t&&t.id===n.id;k=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(T=null,r&&n.observed===t.observed||t.onActivation(),M(),F(M)):(document.removeEventListener("focusin",P,!0),document.removeEventListener("focusout",B),window.removeEventListener("blur",R),T=null)}))((function(){return null})),N=u.a.forwardRef((function(e,t){return u.a.createElement(j,Object(a.a)({sideCar:S,ref:t},e))})),q=j.propTypes||{},J=(q.sideCar,Object(r.a)(q,["sideCar"]));N.propTypes=J;var Q=N;t.a=Q}}]);